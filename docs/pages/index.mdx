import 'prismjs/themes/prism-solarizedlight.css';
import Graph from 'docs/src/getting-started/Minimal';

# Quick Tour

<Graph />

## imports

```jsx
import React from 'react';
import { Graph } from '@regraph/graph';
import { Line } from '@regraph/connections';
```

## width and height

```jsx
const [width, height] = [220, 100];
```

For now, we manually specify the size of our graph.

> 🐞 The `width` and `height` properties are required to ensure correct rendering and scroll behaviour.

## nodes

```jsx
const nodes = [{ id: 'ping' }, { id: 'pong' }];
```

> 🐞 Nodes must have an `id` property.

## boxes

```jsx
const boxes = {
  ping: { x: 50, y: 40, width: 20, height: 20 },
  pong: { x: 150, y: 40, width: 20, height: 20 },
};
```

The bounding rectangle of various grpahical elements is stored in the boxes dictionary (ie, object), with the element `id` as key.

> Boxes are pivotal for many graphical tasks like:
>
> - Positioning
> - Layouting
> - Hit detection

## renderSvgNode

```jsx
const renderSvgNode = ({ id, box }) => (
  <rect key={id} {...box} fill="chocolate" />
);
```

The `Graph` component can render both SVG and HTML nodes. The corresponding [render props](https://reactjs.org/docs/render-props.html) for these are `renderSvgNode` and `renderHtmlNode`.

We set the `key` property of our node.

<details>
  <summary>A note on purity</summary>

The `Graph` component supports rendering of mutated data.

That's because in some use cases, like the rendering of a force-directed layout, data mutation is preferable.

</details>

## connections

```jsx
const connections = [
  {
    id: 'ping->pong',
    src: { x: 60, y: 50 },
    dst: { x: 160, y: 50 },
  },
];
```

We provide the required `id` property and both the source and destination points.

> 🐞 A connection must have an `id` property.

## renderConnection

```jsx
const renderConnection = props => <Line key={props.id} {...props} />;
```

Another [render prop](https://reactjs.org/docs/render-props.html). We set the `key` and pass through all `props` to the `Line` component.

## All together

In a slightly more compact form:

```jsx
import React from 'react';
import { Graph } from '@regraph/graph';
import { Line } from '@regraph/connections';

export default () => (
  <Graph
    width={220}
    height={100}
    nodes={[{ id: 'ping' }, { id: 'pong' }]}
    boxes={{
      ping: { x: 50, y: 40, width: 20, height: 20 },
      pong: { x: 150, y: 40, width: 20, height: 20 },
    }}
    renderSvgNode={({ id, box }) => <rect key={id} {...box} fill="Chocolate" />}
    connections={[
      {
        id: 'ping->pong',
        src: { x: 60, y: 50 },
        dst: { x: 160, y: 50 },
      },
    ]}
    renderConnection={props => <Line key={props.id} {...props} />}
  />
);
```
