(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{"33tr":function(n,e,t){"use strict";e.a=function(n){return{cx:n.center.x,cy:n.center.y,rx:n.rx,ry:n.ry}}},"9e5x":function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/examples/interactive/drag-circles",function(){return t("dJ7I")}])},SQNZ:function(n,e,t){"use strict";t.d(e,"b",(function(){return o}));var r=function(n){return"none"!==n},o=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(r(n)?e:0)+.5};e.a=function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"none",r=arguments.length>3?arguments[3]:void 0,i=o(t,r);return[n-i,e-i]}},dJ7I:function(n,e,t){"use strict";t.r(e);var r=t("z3IF"),o=t("2Fjn"),i=t("mXGw"),a=t.n(i),c=t("/FXl"),s=t("qImK"),u=t("hHgk"),p=t.n(u),d=t("wuQJ"),h=t.n(d),g=t("UthY"),l=t.n(g),f=t("tvLF"),b=t.n(f),x=t("s4hn"),m=t.n(x),v=t("1qCV"),w=t.n(v),j=t("azxR"),y=t("H3Hr"),O=t("8foj"),M=t("hsuq"),k=t("33tr"),D=t("RG6p"),E=t("2sSj"),I=a.a.createElement;function R(n,e){var t=w()(n);if(m.a){var r=m()(n);e&&(r=r.filter((function(e){return b()(n,e).enumerable}))),t.push.apply(t,r)}return t}var S=Object(y.a)({interactive:!0,layout:!0,node:{type:function(n){var e=n.id,t=n.box;return I("ellipse",Object(r.a)({id:e,"data-target":!0},Object(k.a)(Object(D.a)(t))))}},connection:{type:O.a,strokeWidth:1,dst:{anchor:"chop-ellipse",marker:I(M.a,null)},src:{anchor:"chop-ellipse"}}});t.d(e,"default",(function(){return P}));a.a.createElement;var F={},N="wrapper",T=Object(c.a)("h1",null,"Dragging Circles"),X=Object(c.a)("p",null,"You can drag the circles in this example:"),G=Object(c.a)(s.a,{code:"import React, { useState, useRef } from 'react';\nimport { graph } from '@regraph/graph';\nimport { Line } from '@regraph/connections';\nimport { Triangle } from '@regraph/arrowheads';\nimport { fromRect, toSvgProps } from '@regraph/geo/ellipse';\nimport { transpose } from '@regraph/geo/rect';\n\nconst Circle = ({ id, box }) => (\n  <ellipse id={id} data-target {...toSvgProps(fromRect(box))} />\n);\n\nconst Graph = graph({\n  interactive: true,\n  layout: true,\n  node: { type: Circle },\n  connection: {\n    type: Line,\n    strokeWidth: 1,\n    dst: { anchor: 'chop-ellipse', marker: <Triangle /> },\n    src: { anchor: 'chop-ellipse' },\n  },\n});\n\nexport default () => {\n  const [boxes, setBoxes] = useState({\n    ping: { x: 200 - 15, y: 100 - 15, width: 30, height: 30 },\n    pong: { x: 400 - 15, y: 100 - 15, width: 30, height: 30 },\n  });\n\n  const dragged = useRef(null);\n\n  const onMouseDown = ({ target: { id } }) => {\n    if (boxes[id]) {\n      dragged.current = id;\n    }\n  };\n\n  const onMouseMove = ({ getDelta }) => {\n    const boxId = dragged.current;\n    if (boxId) {\n      setBoxes({\n        ...boxes,\n        [boxId]: transpose(boxes[boxId], getDelta()),\n      });\n    }\n  };\n\n  const onMouseUp = () => {\n    dragged.current = null;\n  };\n\n  return (\n    <Graph\n      width={600}\n      height={200}\n      nodes={[{ id: 'ping' }, { id: 'pong' }]}\n      boxes={boxes}\n      connections={[\n        { id: 'ping->pong', src: { id: 'ping' }, dst: { id: 'pong' } },\n      ]}\n      onMouseDown={onMouseDown}\n      onMouseMove={onMouseMove}\n      onMouseUp={onMouseUp}\n    />\n  );\n};\n",output:Object(c.a)((function(){var n=Object(i.useState)({ping:{x:185,y:85,width:30,height:30},pong:{x:385,y:85,width:30,height:30}}),e=n[0],t=n[1],r=Object(i.useRef)(null);return I(S,{width:600,height:200,nodes:[{id:"ping"},{id:"pong"}],boxes:e,connections:[{id:"ping->pong",src:{id:"ping"},dst:{id:"pong"}}],onMouseDown:function(n){var t=n.target.id;e[t]&&(r.current=t)},onMouseMove:function(n){var o=n.getDelta,i=r.current;i&&t(function(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?R(Object(t),!0).forEach((function(e){Object(j.a)(n,e,t[e])})):l.a?h()(n,l()(t)):R(Object(t)).forEach((function(e){p()(n,e,b()(t,e))}))}return n}({},e,Object(j.a)({},i,Object(E.a)(e[i],o()))))},onMouseUp:function(){r.current=null}})}),{mdxType:"Graph"}),path:"examples/interactive/drag-circles.jsx",sourceOpen:!0,mdxType:"Example"});function P(n){var e=n.components,t=Object(o.a)(n,["components"]);return Object(c.a)(N,Object(r.a)({},F,t,{components:e,mdxType:"MDXLayout"}),T,X,G)}P.isMDXComponent=!0},hsuq:function(n,e,t){"use strict";var r=t("z3IF"),o=t("hDBU"),i=t("2Fjn"),a=t("mXGw"),c=t.n(a),s=t("PDtE"),u=t("SQNZ"),p=t("/F3D"),d=c.a.createElement,h=6,g=6,l=function(n){var e=n.id,t=n.width,c=void 0===t?h:t,l=n.height,f=void 0===l?g:l,b=n.stroke,x=void 0===b?"none":b,m=n.strokeWidth,v=n.rtl,w=n.className,j=Object(i.a)(n,["id","width","height","stroke","strokeWidth","rtl","className"]),y=Object(a.useMemo)((function(){var n=Object(u.a)(c,f,x,m),e=Object(o.a)(n,2);return function(n,e,t){var r=e/2;return[{x:0,y:-r},{x:t?-n:n,y:0},{x:0,y:r}]}(e[0],e[1],v).map(p.a)}),[f,v,x,m,c]);return d("polygon",Object(r.a)({id:e,points:y,className:Object(s.a)("regraph-arrowhead","regraph-arrowhead-triangle",w),stroke:x},j))};l.getMarkerProps=function(n){var e=n.width,t=void 0===e?h:e,r=n.height,o=void 0===r?g:r;return{width:t,height:o,viewBox:{x:n.rtl?-t:0,y:-o/2,width:t,height:o},anchor:{x:0,y:0},trim:t}},e.a=l}},[["9e5x",1,2,0,3,4,5]]]);