(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"33tr":function(n,e,t){"use strict";e.a=function(n){return{cx:n.center.x,cy:n.center.y,rx:n.rx,ry:n.ry}}},"9e5x":function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/examples/interactive/drag-circles",function(){return t("dJ7I")}])},SQNZ:function(n,e,t){"use strict";t.d(e,"b",function(){return r});var r=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(function(n){return"none"!==n}(n)?e:0)+.5};e.a=function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"none",o=arguments.length>3?arguments[3]:void 0,i=r(t,o);return[n-i,e-i]}},dJ7I:function(n,e,t){"use strict";t.r(e);var r=t("z3IF"),o=t("2Fjn"),i=t("mXGw"),a=t.n(i),c=t("SAVP"),s=t("qImK"),d=t("azxR"),p=t("Rbzu"),g=t("H3Hr"),u=t("8foj"),h=t("hsuq"),l=t("33tr"),x=t("RG6p"),b=t("2sSj"),m=a.a.createElement,f=Object(g.a)({interactive:!0,layout:!0,node:{type:function(n){var e=n.id,t=n.box;return m("ellipse",Object(r.a)({id:e},Object(l.a)(Object(x.a)(t))))}},connection:{type:u.a,strokeWidth:1,dst:{anchor:"chop-ellipse",marker:m(h.a,null)},src:{anchor:"chop-ellipse"}}});t.d(e,"default",function(){return D});a.a.createElement;var v={},w="wrapper",j=Object(c.a)("h1",null,"Dragging Circles"),y=Object(c.a)("p",null,"You can drag the circles in this example:"),O=Object(c.a)(s.a,{code:"import React, { useState, useRef } from 'react';\nimport { graph } from '@regraph/graph';\nimport { Line } from '@regraph/connections';\nimport { Triangle } from '@regraph/arrowheads';\nimport { fromRect, toSvgProps } from '@regraph/geo/ellipse';\nimport { transpose } from '@regraph/geo/rect';\n\nconst Circle = ({ id, box }) => (\n  <ellipse id={id} {...toSvgProps(fromRect(box))} />\n);\n\nconst Graph = graph({\n  interactive: true,\n  layout: true,\n  node: { type: Circle },\n  connection: {\n    type: Line,\n    strokeWidth: 1,\n    dst: { anchor: 'chop-ellipse', marker: <Triangle /> },\n    src: { anchor: 'chop-ellipse' },\n  },\n});\n\nexport default () => {\n  const [boxes, setBoxes] = useState({\n    ping: { x: 200 - 15, y: 100 - 15, width: 30, height: 30 },\n    pong: { x: 400 - 15, y: 100 - 15, width: 30, height: 30 },\n  });\n\n  const dragged = useRef(null);\n\n  const onDragStart = ({ target: { id } }) => {\n    if (boxes[id]) {\n      dragged.current = id;\n    }\n  };\n\n  const onDrag = ({ delta }) => {\n    const boxId = dragged.current;\n    if (boxId) {\n      setBoxes({\n        ...boxes,\n        [boxId]: transpose(boxes[boxId], delta),\n      });\n    }\n  };\n\n  const onDragEnd = () => {\n    dragged.current = null;\n  };\n\n  return (\n    <Graph\n      width={600}\n      height={200}\n      nodes={[{ id: 'ping' }, { id: 'pong' }]}\n      boxes={boxes}\n      connections={[\n        { id: 'ping->pong', src: { id: 'ping' }, dst: { id: 'pong' } },\n      ]}\n      onDragStart={onDragStart}\n      onDrag={onDrag}\n      onDragEnd={onDragEnd}\n    />\n  );\n};\n",output:Object(c.a)(function(){var n=Object(i.useState)({ping:{x:185,y:85,width:30,height:30},pong:{x:385,y:85,width:30,height:30}}),e=n[0],t=n[1],r=Object(i.useRef)(null);return m(f,{width:600,height:200,nodes:[{id:"ping"},{id:"pong"}],boxes:e,connections:[{id:"ping->pong",src:{id:"ping"},dst:{id:"pong"}}],onDragStart:function(n){var t=n.target.id;e[t]&&(r.current=t)},onDrag:function(n){var o=n.delta,i=r.current;i&&t(Object(p.a)({},e,Object(d.a)({},i,Object(b.a)(e[i],o))))},onDragEnd:function(){r.current=null}})},{mdxType:"Graph"}),path:"examples/interactive/drag-circles.jsx",sourceOpen:!0,mdxType:"Example"});function D(n){var e=n.components,t=Object(o.a)(n,["components"]);return Object(c.a)(w,Object(r.a)({},v,t,{components:e,mdxType:"MDXLayout"}),j,y,O)}D.isMDXComponent=!0},hsuq:function(n,e,t){"use strict";var r=t("z3IF"),o=t("hDBU"),i=t("2Fjn"),a=t("mXGw"),c=t.n(a),s=t("PDtE"),d=t("SQNZ"),p=t("/F3D"),g=c.a.createElement,u=6,h=6,l=function(n){var e=n.id,t=n.width,c=void 0===t?u:t,l=n.height,x=void 0===l?h:l,b=n.stroke,m=void 0===b?"none":b,f=n.strokeWidth,v=n.rtl,w=n.className,j=Object(i.a)(n,["id","width","height","stroke","strokeWidth","rtl","className"]),y=Object(a.useMemo)(function(){var n=Object(d.a)(c,x,m,f),e=Object(o.a)(n,2);return function(n,e,t){var r=e/2;return[{x:0,y:-r},{x:t?-n:n,y:0},{x:0,y:r}]}(e[0],e[1],v).map(p.a)},[x,v,m,f,c]);return g("polygon",Object(r.a)({id:e,points:y,className:Object(s.a)("regraph-arrowhead","regraph-arrowhead-triangle",w),stroke:m},j))};l.getMarkerProps=function(n){var e=n.width,t=void 0===e?u:e,r=n.height,o=void 0===r?h:r;return{width:t,height:o,viewBox:{x:n.rtl?-t:0,y:-o/2,width:t,height:o},anchor:{x:0,y:0},trim:t}},e.a=l}},[["9e5x",1,0]]]);